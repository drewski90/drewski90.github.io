<footer class="site-footer bg-black py-5">
  <div class="container px-4" style="max-width: 1200px;">

    <div class="row gy-5 align-items-start">

      <!-- Column 1 -->
      <div class="col-12 col-lg-6">
        <h5 class="mb-3">Andrew Martinez</h5>

        <p class="small text-secondary mb-3">
          Software engineer focused on cloud-native systems, ingestion pipelines,
          and multi-tenant SaaS platforms.
        </p>

        <div class="small mb-3">
          Oakland, CA<br>
          <a href="mailto:martinezdynamics@gmail.com">
            martinezdynamics@gmail.com
          </a>
        </div>

        <h6 class="mb-3">Links</h6>
        <ul class="list-unstyled small">
          <li><a href="/resume">Resume</a></li>
          <li><a href="https://github.com/drewski90/" target="_blank">GitHub</a></li>
          <li><a href="#">LinkedIn</a></li>
        </ul>
      </div>

      <!-- Column 3 (Contact Form) -->
      <div class="col-12 col-lg-6">
        <h6 class="mb-3">Contact</h6>

        <form id="contactForm" novalidate>

  <!-- Honeypot -->
  <input type="text" name="website" style="display:none">

  <!-- discriminator -->
  <input type="hidden" name="form_type" value="contact">

  <div class="row g-3">

    <div class="col-12 col-md-6">
      <input class="form-control"
             name="name"
             placeholder="Name"
             autocomplete="name"
             required>
    </div>

    <div class="col-12 col-md-6">
      <input type="email"
             class="form-control"
             name="email"
             placeholder="Email"
             autocomplete="email"
             required>
    </div>

    <div class="col-12">
      <textarea class="form-control"
                rows="3"
                name="message"
                placeholder="Project details"
                required></textarea>
    </div>

    <div class="col-12 d-grid">
      <button id="submitBtn"
              type="submit"
              class="btn btn-primary">
        Send Request
      </button>
    </div>

  </div>

  <div id="formStatus" class="small mt-3"></div>
</form>

      </div>

    </div>

    <hr class="mt-5 mb-3">

    <div class="text-center small">
      Â© 2026 Andrew Martinez
    </div>

  </div>
</footer>



<script>
const form = document.getElementById('contactForm');
const status = document.getElementById('formStatus');
const submitBtn = document.getElementById('submitBtn');

form.addEventListener('submit', async e => {
  e.preventDefault();

  const raw = Object.fromEntries(new FormData(form));

  const payload = {
    data: raw
  };

  submitBtn.disabled = true;
  status.innerText = "Sending...";

  try {
    const res = await fetch("https://iz6lue2sgrqksxoemuzvkygrrq0josfk.lambda-url.us-west-1.on.aws/", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(payload)
    });

    if(res.ok){
      form.reset();
      status.innerText = "Message sent successfully.";
    } else {
      status.innerText = "Submission failed. Please try again.";
    }

  } catch(err){
    status.innerText = "Network error. Please try again.";
  }

  submitBtn.disabled = false;
});

</script>
